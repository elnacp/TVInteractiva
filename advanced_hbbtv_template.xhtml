<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//HbbTV//1.1.1//EN" "http://www.hbbtv.org/dtd/HbbTV-1.1.1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

<title>HbbTV Application Template </title>

<meta http-equiv="content-type" content="application/vnd.hbbtv.xhtml+xml" charset="UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>


<script type="text/javascript" src="./js/keycodes.js"></script>
<script type="text/javascript">
//<![CDATA[
window.onload = function(){
  hbbtvlib_red_initialize();
  var pause = 0; // 0 no esta pausat 1 si
  var videopausat; // es el video que esta pausat en aquell moment
    //
    //
  var fullscreen = 0;


  var pg = 0;
  //SEGON PANELL
  document.addEventListener("keydown", function(e) {
	if (e.keyCode=='69') {   //VK_RED
        if( pg == 0){
            hbbtvlib_synchronization();
            pg = 1;
        }
	};
	e.preventDefault();
  },false);

  //TERCER PANELL
  document.addEventListener("keydown", function(e) {
      if (e.keyCode=='70') {   //VK_RED
          if(pg == 1){
              hbbtvlib_catalog();
          }
      };
      e.preventDefault();
  },false);

  document.addEventListener("keydown", function(e) {
	if (e.keyCode==VK_0) {
		var app = document.getElementById("oipfAppMan").getOwnerApplication(document);
        app.destroyApplication();

	};
	e.preventDefault();
  },false);

    if (e.keyCode==VK_RED && pg == 1) {
        if(pause==0 || i!=videopausat){
            video = document.getElementById("video");
            video.type = "video/mp4";
            video.style.width="360px";
            video.style.height="230px";
            //video.data=video_aux;
        }
        pause = true;
        video.play(1);
    };


    if (e.keyCode==VK_GREEN && pg==1) {
        videopausat=i;
        video.play(0);
        pause=1;
    };

    if (e.keyCode==VK_YELLOW && p1==1) {
        video.stop();
    };

    if(e.keyCode==VK_BLUE && fullscreen==1){
        video.style.width = "360px";
        video.style.height = "220px";
        document.getElementById("video").style.marginLeft="5px";
        document.getElementById("video").style.marginTop="5px";
        fullscreen = 0;
        document.getElementById('catalog').style.visibility="hidden";
    };

    if (e.keyCode==VK_BLUE && pg == 1 && fullscreen==0) {

        video.style.width = "1300px";
        video.style.height = "900px";
        document.getElementById("video").style.marginLeft="-830px";
        document.getElementById("video").style.marginTop="-120px";
        fullscreen=1;
        document.getElementById('catalog').style.visibility="visible";
    };



};



//]]>
</script>
</head>

<body>

<!--
The main page should have application manager, and should call show() at onload();
-->
<object id="oipfAppMan" type="application/oipfApplicationManager"></object>


<!-- the logical HbbTV Application graphic plane is 1280px horizontally by 720px vertically
So the every content should be draw in 1280 * 720 -->
<div style="left: 0px; top: 0px; width: 1280px; height: 720px;  position:absolute; border:1px solid #c33;  z-index:-1;"></div>

<!-- Graphic safe area(Recommend), 1024 * 648 -->




<!--<object id="video" type="video/broadcast"></object>-->








<!-- Panel for synchronization screen -->

<div id="segonPanell" style="background: rgba(255,255,255,0.5); border: 2px white solid; border-radius:25px; left: 300px; top: 275px; width: 750px; height: 150px; position:absolute; text-align:center; z-index:1; " >
  <p style="color: white; font-family: verdana; font-size: 60px; margin:0;"> Sync number </p>
  <p style="color: white; font-family: verdana; font-size: 30px; margin:0;" id="numeroRandom">  </p>

</div>

<div id="okContainer" style="left: 300px; top:450px; border: 2px white solid; border-radius:25px; position:absolute; background: rgba(255,255,255,0.5); width:750px; height: 75px; text-align:center;">
  <p style="color: white; font-family: verdana;">Press <img align="middle" height="40px" width="40px" src="./img/070645-glossy-black-3d-button-icon-alphanumeric-word-ok1-sc49.png"/> to continue </p>
</div>
<!-- End of panel for synchronization -->


<!-- Panel for initial red button -->

<div id="divGraphic" style="left: 128px; top: 36px; width: 1024px; height: 648px; position:absolute; z-index:1;">

  <div id="buttonContainer" style="left:50px; top:550px; position:absolute; background: rgba(255,255,255,0.5); border: 2px white solid; border-radius:25px; width:350px; text-align:center; position:absolute; height: 75px;">
    <p style="color: white; font-family: verdana; font-size:18px;">Press    <img align="top" height="35px" width="60px" src="./img/buttons_PNG63.png"/>    to start application </p>
  </div>
</div>
<!-- End of panel for initial red button-->

<!-- Panel for catalog -->
<div id="catalog" style="background: rgba(0,0,0,1.0); width: 1024px; height: 648px; top: 0px; left:0px">
  <div id="blocLeft" style="background: rgba(255,255,255,1.0); width:600px; height; 500px; top:150px; left:150px; float:left; overflow-y: scroll;">

      <ul style="list-style-type: none;">
        <li>
            <div id="Video" style="float:left; border:2px solid black; background: rgba(255,255,255,1.0)"><img align="top" height="84px" width="auto" src="./img/youtube-transparent.png"/></div>
            <div style="padding-left: 2em; border: 2px solid black; float:left; width:75%; height:auto;">
              <div id="data" style="float: left;">
                  <p> Album name: </p> <p id="albumname"> </p>
                  <p> Artist name: </p> <p id="artistname"> </p>
              </div>
              <div id="Views" style="text-align:right; float=auto; padding-right: 3em;"><p>25</p></div>
            </div>
        </li>
          <li>
              <div id="Video1" style="float:left; border:2px solid black; background: rgba(255,255,255,1.0)"><img align="top" height="84px" width="auto" src="./img/youtube-transparent.png"/></div>
              <div style="padding-left: 2em; border: 2px solid black; float:left; width:75%; height:auto;">
                  <div id="data1" style="float: left;">
                      <p id="albumname1">Album name</p>
                      <p id="artistname1">Artist name</p>
                  </div>
                  <div id="Views1" style="text-align:right; float=auto; padding-right: 3em;"><p>25</p></div>
              </div>
          </li>
          <li>
              <div id="Video2" style="float:left; border:2px solid black; background: rgba(255,255,255,1.0)"><img align="top" height="84px" width="auto" src="./img/youtube-transparent.png"/></div>
              <div style="padding-left: 2em; border: 2px solid black; float:left; width:75%; height:auto;">
                  <div id="data2" style="float: left;">
                      <p id="albumname2">Album name</p>
                      <p id="artistname2">Artist name</p>
                  </div>
                  <div id="Views2" style="text-align:right; float=auto; padding-right: 3em;"><p>25</p></div>
              </div>
          </li>
          <li>
              <div id="Video3" style="float:left; border:2px solid black; background: rgba(255,255,255,1.0)"><img align="top" height="84px" width="auto" src="./img/youtube-transparent.png"/></div>
              <div style="padding-left: 2em; border: 2px solid black; float:left; width:75%; height:auto;">
                  <div id="data3" style="float: left;">
                      <p id="albumname3">Album name</p>
                      <p id="artistname3">Artist name</p>
                  </div>
                  <div id="Views3" style="text-align:right; float=auto; padding-right: 3em;"><p>25</p></div>
              </div>
          </li>

      </ul>
  </div>
  <div id="blocRight" style="background: rgba(255,255,255,1.0); width:300px; height; 500px; top:150px; left:650px; float:left;">
    <div>
    <div class="videoPanell">
        <object id="video" style="position: absolute"></object>
    </div>
      <div id="ConnectedUsers" style="margin:1em; border: 2px solid #ffcccc;">
          <h2 style="text-align:center;">Connected Users</h2>
          <ul style="list-style-type: none; margin:0.5em; border: 0.5px solid black;">
            <li>User 1</li>
            <li>User 2</li>
            <li>User 3</li>
          </ul>
      </div>
      <div id="AlbumInfo" style="margin:1em; border: 2px solid #ffcccc;">
          <h2 style="text-align:center;">Album Info</h2>
          <ul style="list-style-type: none; margin:0.5em; border: 0.5px solid black;">
            <li id="albumname">Album Name</li>
            <li id="artistname">Artist Name</li>
            <li id="Views">25</li>
            <li id="Description">Hello, this is information on this video</li>
          </ul>
      </div>
    </div>

  </div>

  <div id="buttonRow" style="background: rgba(75,75,75,1.0); width: 900px; height:75px; top:400px; left:100px; text-align: center; float: left;">
    <p style="color: white; font-family: verdana; font-size:18px;"><img align="top" height="35px" width="60px" src="./img/buttons_PNG63.png"/> Play Video
      <img align="center" height="35px" width="60px" src="./img/green-rect-button-hi.png"/> Pause Video
      <img align="center" height="35px" width="60px" src="./img/Fall_But_14_Vector_Clipart.png"/> Stop Video
      <img align="center" height="35px" width="60px" src="./img/blank-blue-button-hi.png"/> Fullscreen
      <img align="center" height="35px" width="60px" src="./img/blank-orange-button-hi.png"/> Exit  </p>
  </div>

</div>
<!-- End of panel for catalog -->

<script type="text/javascript" src="./js/hbbtvlib.js"></script>
</body>

</html>
